<nav class="navbar navbar-desktop">
  <div class="navbar-left">
    <a href="/" class="navbar-logo" aria-label="Home">
      <img src="https://res.cloudinary.com/dcfmvazgl/image/upload/v1736335480/Wash%20portfolio/logo_fxcjk2.png" alt="Logo" />
    </a>

    <div class="navbar-links">
      <a class="nav-btn" href="#projects">Projects</a>
      <a class="nav-btn" href="#contact">Contact</a>
    </div>
  </div>

  <div class="navbar-right">
    <div class="dropdown">
      <button class="nav-btn dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false">
        Language<span class="chevron" aria-hidden="true"></span>
      </button>

      <div class="dropdown-menu" role="menu" aria-label="Language">
        <a class="dropdown-item" href="?lang=en" role="menuitem">English</a>
        <a class="dropdown-item" href="?lang=es" role="menuitem">Spanish</a>
        <a class="dropdown-item" href="?lang=pt" role="menuitem">Portuguese</a>
        <a class="dropdown-item" href="?lang=fr" role="menuitem">French</a>
      </div>
    </div>
  </div>
</nav>

<script>
  const initNavbarScroll = () => {
    console.log("Navbar script loaded âœ…");
    console.log("scrollHeight:", document.documentElement.scrollHeight);
    console.log("innerHeight:", window.innerHeight);


    const navbar = document.querySelector(".navbar");
    console.log("navbar element:", navbar);
    if (!navbar) return;

    const threshold = 24;
    const getScrollY = () =>
      document.scrollingElement ? document.scrollingElement.scrollTop : window.scrollY;

    const onScroll = () => {
      const y = getScrollY();
      navbar.classList.toggle("is-scrolled", y > threshold);
      console.log("scrollY:", y, "has is-scrolled:", navbar.classList.contains("is-scrolled"));
    };

    onScroll();
    window.addEventListener("scroll", onScroll, { passive: true });
    document.scrollingElement?.addEventListener("scroll", onScroll, { passive: true });
  };

  document.addEventListener("DOMContentLoaded", initNavbarScroll);
  document.addEventListener("turbo:load", initNavbarScroll);
</script>
